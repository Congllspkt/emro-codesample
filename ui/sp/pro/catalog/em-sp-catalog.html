<sc-link rel="import" href="es-sp-catalog-list.html"></sc-link>
<sc-link rel="import" href="es-sp-catalog-detail.html"></sc-link>

<dom-module id="em-sp-catalog">

    <style>
        :host {
            @apply(--fit-layout);
        }
    </style>

    <template>
        <sc-pages id="pages" selected="0" class="fit">
            <es-sp-catalog-list id="list" on-show-detail="onShowDetail"></es-sp-catalog-list>
            <template>
                <es-sp-catalog-detail id="detail" on-close="onShowList"></es-sp-catalog-detail>
            </template>
        </sc-pages>
    </template>

    <script>
        Polymer({
            is: 'em-sp-catalog',

            initialized: function(e) {
                var me = this;

                // 타 모듈에서 mdi.createWindow 를 통해 화면 open 하는 경우
                var param = me.params;

                if(param.task_uuid) {

                }
            },

            // 상세 화면
            onShowDetail: function(e, data) {
                var me = this;
                me.$.pages.selectItem(me.$.detail);
                me.$.detail.load(data);
            },

            // 목록 보기
            onShowList: function(e, data) {
                var me = this;
                me.$.pages.selectItem(me.$.list);
                me.$.list.load();
            }

        });
    </script>

</dom-module>