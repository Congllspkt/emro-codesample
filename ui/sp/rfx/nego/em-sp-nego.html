<sc-link rel="import" href="es-sp-nego-list.html"></sc-link>
<sc-link rel="import" href="es-sp-nego-detail.html"></sc-link>

<!-- 
    /**
    *  협력사 협상진행 메인 모듈
    */
 -->
<dom-module id="em-sp-nego">
	<template>
		<sc-pages id="pages" selected="0" class="fit">
			<es-sp-nego-list id="list" on-show-detail="showDetail"></es-sp-nego-list>
			<template>
				<es-sp-nego-detail id="detail" on-save="onSave"
								   on-close="onClose"
								   on-find-list="onFindList">
				</es-sp-nego-detail>
			</template>
		</sc-pages>
	</template>

	<script>
		Polymer({
			is: 'em-sp-nego',

			initialized: function() {
			},

			onShowList: function() {
				this.$.pages.selectItem(this.$.list);
			},

			showDetail: function(e, data) {
				this.$.pages.selectItem(this.$.detail);
				this.$.detail.load(data);
			},

			onClose: function() {
				this.onShowList();
			},

			onSave: function() {
				this.$.list.onFindNegoTargetList();
			},

			onFindList: function(e, data) {
				this.onShowList();
				this.onSave();
			}
		})
	</script>
</dom-module>