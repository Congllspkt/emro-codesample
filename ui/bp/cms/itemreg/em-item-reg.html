<sc-link rel="import" href="es-item-reg-list.html"></sc-link>
<sc-link rel="import" href="es-item-reg-detail.html"></sc-link>

<dom-module id="em-item-reg">
	<style>
        :host {
            @apply(--fit-layout);
        }
    </style>
    
    <template>
		<sc-pages id="pages" selected="0" class="fit">
			<es-item-reg-list id="list" on-show-detail="onShowDetail"></es-item-reg-list>
				<template>
					<es-item-reg-detail id="detail" on-close="onClose"></es-item-reg-detail>
				</template>
		</sc-pages>
    </template>

	<script>
        Polymer({
            is: 'em-item-reg',
            onShowDetail: function (e, data) {
                var me = this;
                me.$.pages.selectItem(me.$.detail);
                me.$.detail.load(data);
            },
			onClose: function (e, data) {
				var me = this;
				me.$.pages.selectItem(me.$.list);
				if(data) {
					me.$.list.load();
				}
			}
        });
	</script>
</dom-module>