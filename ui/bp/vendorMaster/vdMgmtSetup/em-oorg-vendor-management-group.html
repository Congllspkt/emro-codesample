<sc-link rel="import" href="es-oorg-vendor-management-group-list.html"></sc-link>
<sc-link rel="import" href="es-vendor-management-group-evaltr-list.html"></sc-link>

<dom-module id="em-oorg-vendor-management-group">
	<!--
	/**
	 *
	 *	@description : 협력사 > VMT/VMG(SG) 관리 > Operation Org VMG Mapping
	 */
	-->
	<style>
		:host {
			@apply(--vbox-layout);
		}
	</style>
	
	<template>
		<cc-page-title-bar></cc-page-title-bar>
		<div class="hbox flex">
			<es-oorg-vendor-management-group-list id="vmgList" class="flex-6" on-clear-evaltr="onClearEvaltr" on-selected-oorg-vmg="onSelectedOorgVmg"></es-oorg-vendor-management-group-list>
			<div class="hspace-10"></div>
			<es-vendor-management-group-evaltr-list id="vmgEvaltrList" class="flex-4"></es-vendor-management-group-evaltr-list>
		</div>
	</template>
	
	<script>
		Polymer({
			is: 'em-oorg-vendor-management-group',
			
			initialized: function() {
				var me = this;
				
				me.$.vmgList.load();
			},
			
			// 협력사관리그룹 목록 조회시 평가자 영역 clear
			onClearEvaltr : function(e){
				var me = this;
				var module = me.$.vmgEvaltrList;
				if (module && module.isInitialized) {
					module.reset();
				}
			},
			// 협력사관리그룹 선택
			onSelectedOorgVmg : function(e) {
				var me = this;
				var vmgInfo = e.detail;
				var vmgEvaltrList = me.$.vmgEvaltrList;
				
				vmgEvaltrList.load(vmgInfo);
			}
		});
	</script>

</dom-module>